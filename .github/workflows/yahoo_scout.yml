name: Yahoo Finance Daily Scout

on:
  schedule:
    # 5ë¶„ë§ˆë‹¤ ì •ì°°ê¸° ì¶œê²© (UTC ê¸°ì¤€ì´ë¯€ë¡œ í•œêµ­ ì‹œê°„ ê³ ë ¤ í•„ìš” ì—†ì´ 5ë¶„ ê°„ê²©)
    - cron: '*/5 * * * *'
  workflow_dispatch: # ìˆ˜ë™ ì¶œê²© ë²„íŠ¼ ìƒì„±

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: Install Dependencies
        run: |
          pip install requests beautifulsoup4 lxml

      - name: Run Scout Script
        run: python yahoo_raw_collector.py  # ì‚¬ë ¹ê´€ë‹˜ì˜ íŒŒì¼ëª…ìœ¼ë¡œ ìˆ˜ì •í•˜ì„¸ìš”

      - name: Commit and Push Changes
        run: |
          git config --global user.name "Macro-Agent-Bot"
          git config --global user.email "bot@macro-agent.army"
          git add .
          git commit -m "ğŸ“¡ ì •ì°° ë³´ê³ : ì‹ ê·œ ë§¤í¬ë¡œ ë°ì´í„° í™•ë³´ ($(date +'%Y-%m-%d %H:%M'))" || exit 0
          git push
